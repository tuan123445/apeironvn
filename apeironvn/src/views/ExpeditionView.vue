<template>
  <main class="body-wrapper nebula-expedition-view">
    <!-- section-one -->
    <div class="section-one" id="section-one">
      <h1 class="title">
        <span>E</span>
        <span>X</span>
        <span>P</span>
        <span>E</span>
        <span>D</span>
        <span>I</span>
        <span>T</span>
        <span>I</span>
        <span>O</span>
        <span>N</span>
      </h1>
    </div>
    <!-- section-two -->
    <div class="section-two" id="section-two">
      <div class="slide-from-left">
        <h1>Expedition là gì?</h1>
        <h2 class="apeiron-font">Expedition</h2>
        <CenterIconView></CenterIconView>
        <div class="infomation">
          Expedition là tên gọi khác của stake trong vũ trụ Apeiron. Giống như
          các tựa game blockchain khác. Apeiron cũng có chế độ stake để kích
          thích các holder cũng như giúp cho những holder hay whale có được chế
          độ earn tốt nhất.Bạn có thể stake Planet hay Apostle. Cần ít nhất 1
          Planet để có thể stake, và tối đa là 4 Planet. Bạn cũng chỉ stake được
          tối đa là 5 Apostle. Hiện tại đang có 2 loại phần thưởng từ stake. Đó
          là Foonie Emblem(NFT trả thưởng trong game. có thể bán được trên
          <span
            ><a
              href="https://opensea.io/assets/matic/0x2953399124f0cbb46d2cbacd8a89cf0599974963/95304309179396549571695629844645662043614112156987503316211189529370918135568"
              target="_blank"
              >OpenSea</a
            ></span
          >) và mBH(dùng để đẻ planet hoặc bán trên
          <span
            ><a
              href="https://opensea.io/assets/matic/0x482d4ee070adbc35aad4f4696f9af3e11516dc28/1"
              target="_blank"
              >OpenSea</a
            ></span
          >
          ). Bạn có thể stake tại trang stake chính thức của Apeiron tại đây.
          <span>
            <a
              href="https://marketplace.apeironnft.com/expedition/event/?expeditionId=101"
              target="_blank"
              >marketplace.apeironnft.com/expedition</a
            ></span
          >
        </div>
      </div>
    </div>
    <!-- section-three -->
    <div class="section-five" id="section-five">
      <img class="bgr-img" src="../assets/img/expedition2.png" alt="" />
    </div>
    <div class="section-four" id="section-four">
      <div class="large-screen">
        <div class="guide-intro">
          Bản hướng dẫn stake
          <div class="apeiron-font">expedition</div>
        </div>
        <!-- Book -->
        <div class="book-wrapper">
          <div id="book" class="book">
            <!-- Paper 1 -->
            <div id="p1" class="paper">
              <div
                class="front"
                style="justify-content: unset; align-items: unset"
              >
                <div class="front-content">
                  <img
                    src="../assets/img/expedition_guide/bookcover2.jpeg"
                    style="padding: unset; height: 500px"
                  />
                </div>
              </div>
              <div class="back">
                <div class="back-content">
                  <div class="pt-3 step-title">
                    Chương 1
                    <div class="pt-1 intro">Giới thiệu</div>
                  </div>
                  <div class="pt-5 px-2">
                    <img src="../assets/img/expedition_guide/page.jpeg" />
                  </div>
                </div>
              </div>
            </div>
            <!-- Paper 2 -->
            <div id="p2" class="paper">
              <div class="front">
                <div id="f1" class="front-content">
                  <div class="pt-5 px-2">
                    <div>
                      1. Mỗi Expedition đều đi kèm với phần mô tả ngắn. Chúng
                      tóm gọn câu chuyện kèm theo phần thưởng của Expedition đó
                      khi bạn tham gia. Chọn Join để tham gia Stake.
                    </div>
                    <div class="pt-3">
                      2. Phần thưởng của bạn sẽ dựa vào số Vapor bạn nhận được
                      khi tham gia Stake. Nếu bạn stake càng lâu thì số Vapor
                      của bạn càng lớn. Điều đó có nghĩa là bạn Stake càng lâu
                      thì tỷ lệ phần trăm cũng như phần thưởng của bạn càng lớn.
                      Vậy nên hãy Stake planet cũng như Apostle của bạn càng sớm
                      càng tốt để có cơ hội nhận được phần quà lớn hơn nhé.
                    </div>
                    <div class="pt-3">
                      3. Một khi bạn đã Stake bạn sẽ không thể unstake cho đến
                      khi nào thời gian của event Expedition kết thúc.
                    </div>
                    <div class="pt-3">
                      4. Phần thưởng của Stake đa phần sẽ được chuyển vào ví của
                      bạn sau khi Expedition kết thúc khoảng 1 tiếng. Nếu bạn
                      không thắng được phần thưởng thì Vapor của bạn sẽ được lưu
                      lại dành cho tích lũy event Expedition tiếp theo.
                    </div>
                  </div>
                </div>
              </div>
              <div class="back">
                <div class="back-content">
                  <div class="pt-3 step-title">
                    Chương 2
                    <div class="pt-1 intro">Stake Planet</div>
                  </div>
                  <div class="pt-5 px-2">
                    <img src="../assets/img/expedition_guide/page_one.jpeg" />
                  </div>
                </div>
              </div>
            </div>
            <!-- Paper 3 -->
            <div id="p3" class="paper">
              <div class="front">
                <div class="front-content">
                  <div class="pt-5 px-2">
                    <div>
                      1. Bạn phải có ít nhất 1 Planet để có thể tham gia Stake
                      trong event Expedition.
                    </div>
                    <div class="pt-3">
                      2. Bạn có thể Stake được nhiều nhất là 4 Planet. Planet
                      của bạn càng thuần túy (càng ít nguyên tố) thì Vapor bạn
                      nhận được nhờ stake càng lớn. Không những thế nếu bạn
                      Stake primeval planet thì số Vapor bạn nhận được sẽ lớn
                      hơn số Vapor bạn Stake planet thường. Bạn có thể giao dịch
                      Planet tại
                      <span>marketplace.apeironnft.com</span>
                    </div>
                    <div class="pt-3">
                      3. Sau khi bạn nhấn Join ở trang trước thì bạn sẽ được
                      chuyển sang trang stake Planet. Add toàn bộ Planet bạn
                      muốn stake vào ô như hình. Sau đó chọn Next.
                    </div>
                  </div>
                </div>
              </div>
              <div class="back">
                <div class="back-content">
                  <div class="pt-3 step-title">
                    Chương 3
                    <div class="pt-1 intro">Stake Apostle</div>
                  </div>
                  <div class="pt-5 px-2">
                    <img src="../assets/img/expedition_guide/page_two.jpeg" />
                  </div>
                </div>
              </div>
            </div>
            <!-- Paper 4 -->
            <div id="p4" class="paper">
              <div class="front">
                <div class="front-content">
                  <div class="pt-5 px-2">
                    <div>
                      1. Không những Stake Planet bạn còn có thể Stake Apostle
                      để tăng Vapor bạn nhận được.
                    </div>
                    <div class="pt-3">
                      2. Bạn có thể Stake nhiều nhất là 5 Apostle khác nhau. Lưu
                      ý rằng bạn không thể Stake Apostle cùng loại. Ví dụ bạn có
                      2 Warrior Apostle thì bạn chỉ có thể Stake duy nhất 1
                      Warrior Apostle. Hiện tại bạn có thể giao dịch mua bán
                      Origin Apostle trên OpenSea.
                    </div>
                    <div class="pt-3">
                      3. Bạn hãy add Apostle bạn muốn stake vào các ô như hình
                      bên. Sau đó lại nhấn Next để chuyển sang trang mua Cosmic
                      Key (Đối với các Expedition yêu cầu Keys để mở rương).
                    </div>
                  </div>
                </div>
              </div>
              <div class="back">
                <div class="back-content">
                  <div class="pt-3 step-title">
                    Chương 4
                    <div class="pt-1 intro">Cosmic Keys</div>
                  </div>
                  <div class="pt-5 px-2">
                    <img src="../assets/img/expedition_guide/page_three.jpeg" />
                  </div>
                </div>
              </div>
            </div>
            <!-- Paper 5 -->
            <div id="p5" class="paper">
              <div class="front">
                <div class="front-content">
                  <div class="pt-5 px-2">
                    <div>
                      1. Cosmic Key là Key để mở rương phần thưởng của bạn khi
                      Stake được. Sẽ có Expedition yêu cầu Cosmic Key để mở phần
                      thưởng nhưng cũng sẽ có Expedition không yêu cầu.
                    </div>
                    <div class="pt-3">
                      2. Nhưng đối với những Expedition cần Cosmic Key để mở
                      phần thưởng thì bạn cần ít nhất là 5 Key để có thể mở được
                      1 rương. Nếu bạn không có key thì cho dù bạn có phần
                      thưởng đi chăng nữa thì cũng không thể nhận được.
                    </div>
                    <div class="pt-3">
                      3. Hiện tại giá 1 Keys là 0.01 wETH. Bạn phải mua Key
                      trước khi tham gia Stake. Bạn không thể mua key sau khi
                      bạn đã tham gia Stake. Nếu bạn mua Key rồi mà bạn không
                      trúng bất cứ phần thưởng nào từ Stake thì bạn có thể
                      refund lại để lấy lại wETH.
                    </div>
                    <div class="pt-3">
                      4. Nhập số lượng Key bạn muốn mua và nhấn chọn START
                      EXPEDITION.
                    </div>
                  </div>
                </div>
              </div>
              <div class="back">
                <div class="back-content">
                  <div class="pt-3 step-title">
                    Chương 5
                    <div class="pt-1 intro">Confirm</div>
                  </div>
                  <div class="pt-5 px-2">
                    <img src="../assets/img/expedition_guide/page_four.jpeg" />
                  </div>
                </div>
              </div>
            </div>
            <div id="p6" class="paper">
              <div class="front">
                <div class="front-content">
                  <div class="pt-5 px-2">
                    <div>1. Kiểm tra lại những gì bạn đã Stake.</div>
                    <div class="pt-3">
                      2. Bắt đầu Stake và đợi phần thưởng về với mình thôi. Quay
                      lại check khi thời gian đếm ngược kết thúc. Nếu có event
                      Expedition nào diễn ra bạn hãy Stake tiếp. Thông thường
                      chỉ có 1 event Expedition 1 lần. Bạn có thể check event
                      Expedition nào đang diễn ra tại trang market của Apeiron.
                      marketplace.apeironnft.com/expedition
                    </div>
                  </div>
                </div>
              </div>
              <div class="back">
                <div class="back-content"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="book-btn">
          <el-button type="info" size="small" @click="goPrevPage()">
            <i class="mdi mdi-skip-previous-outline"></i>
            Trang trước</el-button
          >
          <el-button type="info" size="small" @click="goNextPage()"
            >Trang sau <i class="mdi mdi-skip-next-outline"></i
          ></el-button>
        </div>
      </div>
      <div class="small-screen mx-5 mb-5">
        <el-collapse v-model="activeName" accordion>
          <el-collapse-item title="Giới thiệu" name="intro">
            <div class="image-wrapper">
              <img src="../assets/img/expedition_guide/page.jpeg" />
            </div>
            <div class="text-wrapper mt-3">
              <div>
                1. Mỗi Expedition đều đi kèm với phần mô tả ngắn. Chúng tóm gọn
                câu chuyện kèm theo phần thưởng của Expedition đó khi bạn tham
                gia. Chọn Join để tham gia Stake.
              </div>
              <div class="pt-3">
                2. Phần thưởng của bạn sẽ dựa vào số Vapor bạn nhận được khi
                tham gia Stake. Nếu bạn stake càng lâu thì số Vapor của bạn càng
                lớn. Điều đó có nghĩa là bạn Stake càng lâu thì tỷ lệ phần trăm
                cũng như phần thưởng của bạn càng lớn. Vậy nên hãy Stake planet
                cũng như Apostle của bạn càng sớm càng tốt để có cơ hội nhận
                được phần quà lớn hơn nhé.
              </div>
              <div class="pt-3">
                3. Một khi bạn đã Stake bạn sẽ không thể unstake cho đến khi nào
                thời gian của event Expedition kết thúc.
              </div>
              <div class="pt-3">
                4. Phần thưởng của Stake đa phần sẽ được chuyển vào ví của bạn
                sau khi Expedition kết thúc khoảng 1 tiếng. Nếu bạn không thắng
                được phần thưởng thì Vapor của bạn sẽ được lưu lại dành cho tích
                lũy event Expedition tiếp theo.
              </div>
            </div>
          </el-collapse-item>
          <el-collapse-item title="Stake Planet" name="stakePlanet">
            <div class="image-wrapper">
              <img src="../assets/img/expedition_guide/page_one.jpeg" />
            </div>
            <div class="text-wrapper mt-3">
              <div>
                1. Bạn phải có ít nhất 1 Planet để có thể tham gia Stake trong
                event Expedition.
              </div>
              <div class="pt-3">
                2. Bạn có thể Stake được nhiều nhất là 4 Planet. Planet của bạn
                càng thuần túy (càng ít nguyên tố) thì Vapor bạn nhận được nhờ
                stake càng lớn. Không những thế nếu bạn Stake primeval planet
                thì số Vapor bạn nhận được sẽ lớn hơn số Vapor bạn Stake planet
                thường. Bạn có thể giao dịch Planet tại
                <span>marketplace.apeironnft.com</span>
              </div>
              <div class="pt-3">
                3. Sau khi bạn nhấn Join ở trang trước thì bạn sẽ được chuyển
                sang trang stake Planet. Add toàn bộ Planet bạn muốn stake vào ô
                như hình. Sau đó chọn Next.
              </div>
            </div>
          </el-collapse-item>
          <el-collapse-item title="Stake Apostle" name="stakeApostle">
            <div class="image-wrapper">
              <img src="../assets/img/expedition_guide/page_two.jpeg" />
            </div>
            <div class="text-wrapper mt-3">
              <div>
                1. Không những Stake Planet bạn còn có thể Stake Apostle để tăng
                Vapor bạn nhận được.
              </div>
              <div class="pt-3">
                2. Bạn có thể Stake nhiều nhất là 5 Apostle khác nhau. Lưu ý
                rằng bạn không thể Stake Apostle cùng loại. Ví dụ bạn có 2
                Warrior Apostle thì bạn chỉ có thể Stake duy nhất 1 Warrior
                Apostle. Hiện tại bạn có thể giao dịch mua bán Origin Apostle
                trên OpenSea.
              </div>
              <div class="pt-3">
                3. Bạn hãy add Apostle bạn muốn stake vào các ô như hình bên.
                Sau đó lại nhấn Next để chuyển sang trang mua Cosmic Key (Đối
                với các Expedition yêu cầu Keys để mở rương).
              </div>
            </div>
          </el-collapse-item>
          <el-collapse-item title="Cosmic Keys" name="cosmicKeys">
            <div class="image-wrapper">
              <img src="../assets/img/expedition_guide/page_three.jpeg" />
            </div>
            <div class="text-wrapper mt-3">
              <div>
                1. Cosmic Key là Key để mở rương phần thưởng của bạn khi Stake
                được. Sẽ có Expedition yêu cầu Cosmic Key để mở phần thưởng
                nhưng cũng sẽ có Expedition không yêu cầu.
              </div>
              <div class="pt-3">
                2. Nhưng đối với những Expedition cần Cosmic Key để mở phần
                thưởng thì bạn cần ít nhất là 5 Key để có thể mở được 1 rương.
                Nếu bạn không có key thì cho dù bạn có phần thưởng đi chăng nữa
                thì cũng không thể nhận được.
              </div>
              <div class="pt-3">
                3. Hiện tại giá 1 Keys là 0.01 wETH. Bạn phải mua Key trước khi
                tham gia Stake. Bạn không thể mua key sau khi bạn đã tham gia
                Stake. Nếu bạn mua Key rồi mà bạn không trúng bất cứ phần thưởng
                nào từ Stake thì bạn có thể refund lại để lấy lại wETH.
              </div>
              <div class="pt-3">
                4. Nhập số lượng Key bạn muốn mua và nhấn chọn START EXPEDITION.
              </div>
            </div>
          </el-collapse-item>
          <el-collapse-item title="Confirm" name="confirm">
            <div class="image-wrapper">
              <img src="../assets/img/expedition_guide/page_four.jpeg" />
            </div>
            <div class="text-wrapper mt-3">
              <div>1. Kiểm tra lại những gì bạn đã Stake.</div>
              <div class="pt-3">
                2. Bắt đầu Stake và đợi phần thưởng về với mình thôi. Quay lại
                check khi thời gian đếm ngược kết thúc. Nếu có event Expedition
                nào diễn ra bạn hãy Stake tiếp. Thông thường chỉ có 1 event
                Expedition 1 lần. Bạn có thể check event Expedition nào đang
                diễn ra tại trang market của Apeiron.
                marketplace.apeironnft.com/expedition
              </div>
            </div>
          </el-collapse-item>
        </el-collapse>
      </div>
    </div>
  </main>
</template>

<script>
import index from "../core/index.js";
import LoadingView from "../components/LoadingView.vue";
import CenterIconView from "../components/CenterIconView.vue";

export default {
  mixins: [index.mixins],
  components: {
    LoadingView,
    CenterIconView,
  },
  data() {
    return {
      currentLocation: 1,
      numOfPapers: 5,
      maxLocation: 6,
      activeName: "intro",
    };
  },
  methods: {
    goPrevPage() {
      const paper1 = document.querySelector("#p1");
      const paper2 = document.querySelector("#p2");
      const paper3 = document.querySelector("#p3");
      const paper4 = document.querySelector("#p4");
      const paper5 = document.querySelector("#p5");
      const paper6 = document.querySelector("#p6");
      if (this.currentLocation > 1) {
        switch (this.currentLocation) {
          case 2:
            this.closeBook(true);
            paper1.classList.remove("flipped");
            paper1.style.zIndex = 6;
            break;
          case 3:
            paper2.classList.remove("flipped");
            paper2.style.zIndex = 5;
            break;
          case 4:
            paper3.classList.remove("flipped");
            paper3.style.zIndex = 4;
            break;
          case 5:
            paper4.classList.remove("flipped");
            paper4.style.zIndex = 3;
            break;
          case 6:
            this.openBook();
            paper5.classList.remove("flipped");
            paper5.style.zIndex = 2;
            break;
          case 7:
            this.openBook();
            paper6.classList.remove("flipped");
            paper6.style.zIndex = 1;
            break;
          default:
            throw new Error("unkown state");
        }
        this.currentLocation--;
      }
    },
    goNextPage() {
      const paper1 = document.querySelector("#p1");
      const paper2 = document.querySelector("#p2");
      const paper3 = document.querySelector("#p3");
      const paper4 = document.querySelector("#p4");
      const paper5 = document.querySelector("#p5");
      const paper6 = document.querySelector("#p6");
      if (this.currentLocation < this.maxLocation) {
        switch (this.currentLocation) {
          case 1:
            this.openBook();
            paper1.classList.add("flipped");
            paper1.style.zIndex = 1;
            break;
          case 2:
            paper2.classList.add("flipped");
            paper2.style.zIndex = 2;
            break;
          case 3:
            paper3.classList.add("flipped");
            paper3.style.zIndex = 3;
            break;
          case 4:
            paper4.classList.add("flipped");
            paper4.style.zIndex = 4;
            break;
          case 5:
            paper5.classList.add("flipped");
            paper5.style.zIndex = 5;
            break;
          case 6:
            paper6.classList.add("flipped");
            paper6.style.zIndex = 6;
            this.closeBook(false);
            break;
          default:
            throw new Error("unkown state");
        }
        this.currentLocation++;
      }
    },
    openBook() {
      const book = document.querySelector("#book");
      book.style.transform = "translateX(50%)";
    },
    closeBook(isAtBeginning) {
      const book = document.querySelector("#book");
      if (isAtBeginning) {
        book.style.transform = "translateX(0%)";
      } else {
        book.style.transform = "translateX(100%)";
      }
    },
  },
};
</script>

<style lang="scss" scoped>
@media (min-width: 200px) {
  .section-four {
    height: 1450px !important;
    .large-screen {
      display: none;
    }

    .small-screen {
      display: block;
    }
  }
}
@media (min-width: 400px) {
  .section-four {
    height: 1300px !important;
  }
}
@media (min-width: 768px) {
}
@media (min-width: 950px) {
  .section-four {
    height: 850px !important;

    .large-screen {
      display: flex;
    }

    .small-screen {
      display: none;
    }
  }
}
@media (min-width: 1200px) {
}
@media (min-width: 1400px) {
}

.nebula-expedition-view {
  .section-one {
    background-image: url(../assets/img/Expedition.jpeg) !important;
  }

  .section-two {
    height: 900px !important;
  }

  .section-four {
    .small-screen {
      .image-wrapper {
        text-align: center;

        img {
          width: -webkit-fill-available;
        }
      }
    }
    .large-screen {
      justify-content: center;

      .guide-intro {
        width: -webkit-fill-available;
        text-align: center;
        position: absolute;
        top: 80px;
        font-size: 20px;
        color: #fff8dc;
      }

      /* Book */
      .book {
        position: relative;
        width: 450px;
        height: 500px;
        transition: transform 0.5s;
      }

      .book-btn {
        width: -webkit-fill-available;
        text-align: center;
        position: absolute;
        bottom: 140px;
        button {
          width: 100px;
        }
      }

      .paper {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        perspective: 1500px;
      }

      .front,
      .back {
        background-color: white;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform-origin: left;
        transition: transform 0.5s;
      }

      .front {
        z-index: 1;
        backface-visibility: hidden;
        border-left: 3px solid powderblue;
      }

      .back {
        z-index: 0;
      }

      .front-content,
      .back-content {
        width: 100%;
        height: 100%;
        color: black;
        background: #fff8dc;

        img {
          width: -webkit-fill-available;
        }
      }

      .back-content {
        .step-title {
          text-align: center;

          .intro {
            font-size: 35px;
          }
        }
        transform: rotateY(180deg);
      }

      /* Paper flip effect */
      .flipped .front,
      .flipped .back {
        transform: rotateY(-180deg);
      }

      /* Paper stack order */
      #p1 {
        z-index: 6;
      }

      #p2 {
        z-index: 5;
      }

      #p3 {
        z-index: 4;
      }

      #p4 {
        z-index: 3;
      }

      #p5 {
        z-index: 2;
      }
      #p6 {
        z-index: 1;
      }
    }
  }
}
</style>
